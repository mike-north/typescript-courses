{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/course/making-typescript-stick/03-recent-updates-to-typescript/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Learn TypeScript w/ Mike North","courses":[{"id":"fundamentals-v3","name":"TypeScript Fundamentals v3","summary":"Learn everything you need to know in order to confidently and successfully use TypeScript to build a modern JavaScript app."},{"id":"fundamentals-v4","name":"TypeScript Fundamentals v4","summary":"Learn everything you need to know in order to confidently and successfully use TypeScript to build a modern JavaScript app."},{"id":"intermediate-v1","name":"Intermediate TypeScript","summary":"Leverage TypeScript's strengths to provide clarity in the face of\ncomplexity, while protecting your codebase and team from it's weaknesses.\n"},{"id":"making-typescript-stick","name":"Making TypeScript Stick","summary":"Tackle a series of challenges designed to reinforce your knowledge and make\nthe important concepts truly \"stick\" in your mind.\n"},{"id":"enterprise-v2","name":"Enterprise TypeScript v2","summary":"Combine TypeScript and GraphQL's type systems to create full-stack, fully\ntype-checked code bases that are shockingly easy to refactor and maintain.\n"},{"id":"full-stack-typescript","name":"Full Stack TypeScript","summary":"Combine TypeScript and GraphQL's type systems to create full-stack, fully\ntype-checked code bases that are shockingly easy to refactor and maintain.\n"},{"id":"intermediate-v2","name":"Intermediate TypeScript","summary":"Leverage TypeScript's strengths to provide clarity in the face of\ncomplexity, while protecting your codebase and team from it's weaknesses.\n"}]}},"markdownRemark":{"id":"dbe64c82-0b16-5309-a9e7-e50b6fc07c0c","excerpt":"Variadic Tuple Types We know that a tuple type is an ordered collection (often of known length),\nwith the type of each member known as well. For a while, it’s…","html":"<h2 id=\"variadic-tuple-types\" style=\"position:relative;\"><a href=\"#variadic-tuple-types\" aria-label=\"variadic tuple types permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Variadic Tuple Types</h2>\n<p>We know that a tuple type is an ordered collection (often of known length),\nwith the type of each member known as well.</p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #CF222E\">type</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type Color = [number, number, number]' >Color</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> [</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #0550AE\">number</span><span style=\"color: #24292F\">, </span><span style=\"color: #6E7781\">// red (0-255)</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #0550AE\">number</span><span style=\"color: #24292F\">, </span><span style=\"color: #6E7781\">// green (0-255)</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #0550AE\">number</span><span style=\"color: #24292F\"> </span><span style=\"color: #6E7781\">// blue (0-255)</span></div><div class='line'><span style=\"color: #24292F\">]</span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/C4TwDgpgBAwg9gGzgJygXigbQFBSgOwFcBbAIwmQBooB6GqZCAEygAoAGAWgCYBWXgJS4CJclVr0A5owj42XPoOFEyFCVFIJC0Dj35CAukA'>Try</a></div></pre>\n<p>For a while, it’s also been possible to use a <code>...spread[]</code> as the last\nelement of the tuple</p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #6E7781\">// Worked this way, even before TS 4.x</span></div><div class='line'><span style=\"color: #CF222E\">enum</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='enum Sandwich' >Sandwich</data-lsp></span><span style=\"color: #24292F\"> {</span></div><div class='line'><span style=\"color: #24292F\">  <data-lsp lsp='(enum member) Sandwich.Hamburger = 0' >Hamburger</data-lsp>,</span></div><div class='line'><span style=\"color: #24292F\">  <data-lsp lsp='(enum member) Sandwich.VeggieBurger = 1' >VeggieBurger</data-lsp>,</span></div><div class='line'><span style=\"color: #24292F\">  <data-lsp lsp='(enum member) Sandwich.GrilledCheese = 2' >GrilledCheese</data-lsp>,</span></div><div class='line'><span style=\"color: #24292F\">  <data-lsp lsp='(enum member) Sandwich.BLT = 3' >BLT</data-lsp></span></div><div class='line'><span style=\"color: #24292F\">}</span></div><div class='line'><span style=\"color: #CF222E\">type</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type SandwichOrder = [number, Sandwich, ...string[]]' >SandwichOrder</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> [</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #0550AE\">number</span><span style=\"color: #24292F\">, </span><span style=\"color: #6E7781\">// order total</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #953800\"><data-lsp lsp='enum Sandwich' >Sandwich</data-lsp></span><span style=\"color: #24292F\">, </span><span style=\"color: #6E7781\">// sandwich</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #CF222E\">...</span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\">[] </span><span style=\"color: #6E7781\">// toppings</span></div><div class='line'><span style=\"color: #24292F\">]</span></div><div class='line'>&nbsp;</div><div class='line'><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\"><data-lsp lsp='const order1: SandwichOrder' >order1</data-lsp></span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type SandwichOrder = [number, Sandwich, ...string[]]' >SandwichOrder</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> [</span><span style=\"color: #0550AE\">12.99</span><span style=\"color: #24292F\">, <data-lsp lsp='enum Sandwich' >Sandwich</data-lsp>.<data-lsp lsp='(enum member) Sandwich.Hamburger = 0' >Hamburger</data-lsp>, </span><span style=\"color: #0A3069\">\"lettuce\"</span><span style=\"color: #24292F\">]</span></div><div class='line'><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\"><data-lsp lsp='const order2: SandwichOrder' >order2</data-lsp></span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type SandwichOrder = [number, Sandwich, ...string[]]' >SandwichOrder</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> [</span><span style=\"color: #0550AE\">14.99</span><span style=\"color: #24292F\">, <data-lsp lsp='enum Sandwich' >Sandwich</data-lsp>.<data-lsp lsp='(enum member) Sandwich.Hamburger = 0' >Hamburger</data-lsp>, </span><span style=\"color: #0A3069\">\"avocado\"</span><span style=\"color: #24292F\">, </span><span style=\"color: #0A3069\">\"cheese\"</span><span style=\"color: #24292F\">]</span></div><div class='line'><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\"><data-lsp lsp='const order_with_error: SandwichOrder' >order_with_error</data-lsp></span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type SandwichOrder = [number, Sandwich, ...string[]]' >SandwichOrder</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> [</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #0550AE\">10.99</span><span style=\"color: #24292F\">,</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #0A3069\"><data-err>&quot;lettuce&quot;</data-err></span></div><span class=\"error\"><span>Type 'string' is not assignable to type 'Sandwich'.</span><span class=\"code\">2322</span></span><span class=\"error-behind\">Type 'string' is not assignable to type 'Sandwich'.</span><div class='line'><span style=\"color: #24292F\">]</span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/PTAEAEFMCdoe2gZwFygEwGY1oFAlAOoIDWkAJqAC4AWAloqAO4CGAngDSiQBukAdqABGkAGYJIoACoBlUABYAdAA8c-AK4BbUNOZ8yjWgGNqoAN45QoABLMNgtdADmMdhdAA1SI8e1IAIQdnaFdLAHFoWgAbSPIAYWpISERIENA-ABlJHABfHEpWAAcJHT0DYwB5aDIYUABeUABtNz5NYWDQfARq6Co4SmZItxL9I2pOfERdEeM3BTnESgi+RwaAXQ6wSjgCgtplxBxVnBxDOD4F0C6YAEZUYbLqSu66xuu0BQBOD8570YUbOyBFygABEMUolDUhkgIKOp3OlEuVRgaDuUweTxq9Qa10UXx+6L+APsTmBIOY3DghmYZDgIM4IOMiWSsJOZwuV2gAH0DDQuTB4NA0aVRpieti3NcAAyfb5uMGQCFQmGHIA'>Try</a></div></pre>\n<p>It has even been possible to use generics for that spread type\nat the end of the tuple</p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #6E7781\">// Worked this way, even before TS 4.x</span></div><div class='line'><span style=\"color: #CF222E\">type</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type MyTuple&lt;T> = [number, ...T[]]' >MyTuple</data-lsp></span><span style=\"color: #24292F\">&lt;</span><span style=\"color: #953800\"><data-lsp lsp='(type parameter) T in type MyTuple&lt;T>' >T</data-lsp></span><span style=\"color: #24292F\">&gt; </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> [</span><span style=\"color: #0550AE\">number</span><span style=\"color: #24292F\">, </span><span style=\"color: #CF222E\">...</span><span style=\"color: #953800\"><data-lsp lsp='(type parameter) T in type MyTuple&lt;T>' >T</data-lsp></span><span style=\"color: #24292F\">[]]</span></div><div class='line'>&nbsp;</div><div class='line'><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\"><data-lsp lsp='const x1: MyTuple&lt;string>' >x1</data-lsp></span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type MyTuple&lt;T> = [number, ...T[]]' >MyTuple</data-lsp></span><span style=\"color: #24292F\">&lt;</span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\">&gt; </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> [</span><span style=\"color: #0550AE\">4</span><span style=\"color: #24292F\">, </span><span style=\"color: #0A3069\">\"hello\"</span><span style=\"color: #24292F\">]</span></div><div class='line'><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\"><data-lsp lsp='const x2: MyTuple&lt;boolean>' >x2</data-lsp></span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type MyTuple&lt;T> = [number, ...T[]]' >MyTuple</data-lsp></span><span style=\"color: #24292F\">&lt;</span><span style=\"color: #0550AE\">boolean</span><span style=\"color: #24292F\">&gt; </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> [</span><span style=\"color: #0550AE\">4</span><span style=\"color: #24292F\">, </span><span style=\"color: #0550AE\">true</span><span style=\"color: #24292F\">]</span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/PTAEAEFMCdoe2gZwFygEwGY1oFAlAOoIDWkAJqAC4AWAloqAO4CGAngDSiQBukAdqABGkAGYJIoACoBlUABYAdAA8clVgAcJAWVaSAruoA2kADySAfKAC8oANp89AW2HROC95NsBdLzhwBjOD5ESlAlAEZUHX0jUxDoWj4Ac0sbWzlOACJqSENDOEzfQODQpTQo3QNjE0E4OGNmPlS7DKpoPUgvIA'>Try</a></div></pre>\n<p>It’s important to note that, before TS 4.0 we had to use <code>...T[]</code>, and could not\ndo something like this (<a href=\"https://www.typescriptlang.org/play?ts=3.9.7#code/C4TwDgpgBAsiAqBXMAbCAeeUIA9gQDsATAZygEMCQBtAXQD4oBeKagxAWwCMIAnAGigA6EfFoBuALAAoIA\">example in TS playground</a>)</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d2e8c9d0a2925f22a5303204aa0af4ce/807a0/variadic-tuple-generic-TS3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 29.2%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA7klEQVQY03XO227DIAwG4DxHQdWIgwEHCBBIIO26k9T1/Z9oarpN2sW+C/uXJcvuaq2lFETctm1ZFkRc13XZIWKtlYiEEP0PIYSUsrV2Pp+702kLYYoxzvNca/XOpZRaa9M0GWMm74lI/2WMCSHMc+4ul5cQ09v7x7Ku1+vn8+U153K73eZcnJ+s8845a6191Hv/Dksp3fF47KUWWoHGp14+DVoqAgBAGpDG0SmtAYZfADDAADCE0Xacc84YZ3ecM84PjB322YExZkebUr6/YN1+1RONj6CU3pf/h5TIN2micz7GFELMuRCNfQ9KqS8lHDt47SgDDQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Attempt to spread an array-like T in a generic tuple type, before TS 4.0\"\n        title=\"Attempt to spread an array-like T in a generic tuple type, before TS 4.0\"\n        src=\"/static/d2e8c9d0a2925f22a5303204aa0af4ce/00d43/variadic-tuple-generic-TS3.png\"\n        srcset=\"/static/d2e8c9d0a2925f22a5303204aa0af4ce/63868/variadic-tuple-generic-TS3.png 250w,\n/static/d2e8c9d0a2925f22a5303204aa0af4ce/0b533/variadic-tuple-generic-TS3.png 500w,\n/static/d2e8c9d0a2925f22a5303204aa0af4ce/00d43/variadic-tuple-generic-TS3.png 1000w,\n/static/d2e8c9d0a2925f22a5303204aa0af4ce/aa440/variadic-tuple-generic-TS3.png 1500w,\n/static/d2e8c9d0a2925f22a5303204aa0af4ce/807a0/variadic-tuple-generic-TS3.png 1652w\"\n        sizes=\"(max-width: 1000px) 100vw, 1000px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Why does this matter? Let’s look at this example</p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #CF222E\">enum</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='enum Sandwich' >Sandwich</data-lsp></span><span style=\"color: #24292F\"> {</span></div><div class='line'><span style=\"color: #24292F\">  <data-lsp lsp='(enum member) Sandwich.Hamburger = 0' >Hamburger</data-lsp>,</span></div><div class='line'><span style=\"color: #24292F\">  <data-lsp lsp='(enum member) Sandwich.VeggieBurger = 1' >VeggieBurger</data-lsp>,</span></div><div class='line'><span style=\"color: #24292F\">  <data-lsp lsp='(enum member) Sandwich.GrilledCheese = 2' >GrilledCheese</data-lsp>,</span></div><div class='line'><span style=\"color: #24292F\">  <data-lsp lsp='(enum member) Sandwich.BLT = 3' >BLT</data-lsp></span></div><div class='line'><span style=\"color: #24292F\">}</span></div><div class='line'><span style=\"color: #CF222E\">type</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type SandwichOrder = [number, Sandwich, ...string[]]' >SandwichOrder</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> [</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #0550AE\">number</span><span style=\"color: #24292F\">, </span><span style=\"color: #6E7781\">// order total</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #953800\"><data-lsp lsp='enum Sandwich' >Sandwich</data-lsp></span><span style=\"color: #24292F\">, </span><span style=\"color: #6E7781\">// sandwich</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #CF222E\">...</span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\">[] </span><span style=\"color: #6E7781\">// toppings</span></div><div class='line'><span style=\"color: #24292F\">]</span></div><div class='line'>&nbsp;</div><div class='line'><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\"><data-lsp lsp='const order1: SandwichOrder' >order1</data-lsp></span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type SandwichOrder = [number, Sandwich, ...string[]]' >SandwichOrder</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> [</span><span style=\"color: #0550AE\">12.99</span><span style=\"color: #24292F\">, <data-lsp lsp='enum Sandwich' >Sandwich</data-lsp>.<data-lsp lsp='(enum member) Sandwich.Hamburger = 0' >Hamburger</data-lsp>, </span><span style=\"color: #0A3069\">\"lettuce\"</span><span style=\"color: #24292F\">]</span></div><div class='line'>&nbsp;</div><div class='line'><span style=\"color: #6E7781\">/**</span></div><div class='line'><span style=\"color: #6E7781\"> * return an array containing everything except the first element</span></div><div class='line'><span style=\"color: #6E7781\"> */</span></div><div class='line'><span style=\"color: #CF222E\">function</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\"><data-lsp lsp='function tail&lt;T>(arg: readonly [number, ...T[]]): T[]' >tail</data-lsp></span><span style=\"color: #24292F\">&lt;</span><span style=\"color: #953800\"><data-lsp lsp='(type parameter) T in tail&lt;T>(arg: readonly [number, ...T[]]): T[]' >T</data-lsp></span><span style=\"color: #24292F\">&gt;(</span><span style=\"color: #953800\"><data-lsp lsp='(parameter) arg: readonly [number, ...T[]]' >arg</data-lsp></span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">readonly</span><span style=\"color: #24292F\"> [</span><span style=\"color: #0550AE\">number</span><span style=\"color: #24292F\">, </span><span style=\"color: #CF222E\">...</span><span style=\"color: #953800\"><data-lsp lsp='(type parameter) T in tail&lt;T>(arg: readonly [number, ...T[]]): T[]' >T</data-lsp></span><span style=\"color: #24292F\">[]]) {</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> [</span><span style=\"color: #0550AE\"><data-lsp lsp='const _ignored: number' >_ignored</data-lsp></span><span style=\"color: #24292F\">, </span><span style=\"color: #CF222E\">...</span><span style=\"color: #0550AE\"><data-lsp lsp='const rest: T[]' >rest</data-lsp></span><span style=\"color: #24292F\">] </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> <data-lsp lsp='(parameter) arg: readonly [number, ...T[]]' >arg</data-lsp></span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #CF222E\">return</span><span style=\"color: #24292F\"> <data-lsp lsp='const rest: T[]' >rest</data-lsp></span></div><div class='line'><span style=\"color: #24292F\">}</span></div><div class='line'>&nbsp;</div><div class='line'><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\"><data-lsp lsp='const orderWithoutTotal: (string | Sandwich)[]' style='border-bottom: solid 2px lightgrey;'>orderWithoutTotal</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\"><data-lsp lsp='function tail&lt;string | Sandwich>(arg: readonly [number, ...(string | Sandwich)[]]): (string | Sandwich)[]' >tail</data-lsp></span><span style=\"color: #24292F\">(<data-lsp lsp='const order1: SandwichOrder' >order1</data-lsp>)</span></div><div class='meta-line'><span class='popover-prefix'>             </span><span class='popover'><div class='arrow'></div>const orderWithoutTotal: (string | Sandwich)[]</span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/KYOwrgtgBAyghiAJgdwJYGMAWUDeAoKKACTggCMwAnAc2EoBoCoA1Ya61YAIStoaYDilVABsRwRAGFMwYAGdgjQlwAyAFTwBfPABcAngAdgsBCgyYA8pUR0oAXigBtJuHJ16UAPSeoAe2u2Or46cCJM8EhoWB7eUHKmUZhMAHSpcjrCINSOALpePkEGBqhZcng5eHjoviDpfgGUAIwAXCaR5lY2lPZOjQBMyQCcgx4RZljJJOS87lAAROI6OmDowHMVeJ4AVFsEW1CUwMuUIFAIZ5SUcHpQ1SAhJSXUUMAAbnR6OphPLwAeqwYdFAvsYAGaoSh1YDiCCgHR7Tx4UFgEDoHSoGrAuCiAA8agAfAAKOA0VqHOCIGoiG6OVxkWapZJqXI5ACUuCYdzqjgA+qhqCB-BIPIzDuk8g4SdQmIdjqcxfDtFUanV-F0AOqoL6+MA6NTBUI9B4iQlquiNVmbHyEQgAPQA-EA'>Try</a></div></pre>\n<p>This is not ideal. A <code>(string | Sandwich)[]</code> is not the same thing as a <code>[Sandwich, ...string[]]</code>.\nWhat we’re seeing here is what happens when TS tries to infer the following</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #0550AE\">T</span><span style=\"color: #24292F\">[]   </span><span style=\"color: #CF222E\">&lt;-----&gt;</span><span style=\"color: #24292F\"> [Sandwich.Hamburger, </span><span style=\"color: #0A3069\">\"lettuce\"</span><span style=\"color: #24292F\">]</span></div></code></div></pre>\n<p>similar to what you’d see here</p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #CF222E\">function</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\"><data-lsp lsp='function returnArray&lt;T>(arg: readonly T[]): readonly T[]' >returnArray</data-lsp></span><span style=\"color: #24292F\">&lt;</span><span style=\"color: #953800\"><data-lsp lsp='(type parameter) T in returnArray&lt;T>(arg: readonly T[]): readonly T[]' >T</data-lsp></span><span style=\"color: #24292F\">&gt;(</span><span style=\"color: #953800\"><data-lsp lsp='(parameter) arg: readonly T[]' >arg</data-lsp></span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">readonly</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='(type parameter) T in returnArray&lt;T>(arg: readonly T[]): readonly T[]' >T</data-lsp></span><span style=\"color: #24292F\">[])</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">readonly</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='(type parameter) T in returnArray&lt;T>(arg: readonly T[]): readonly T[]' >T</data-lsp></span><span style=\"color: #24292F\">[] {</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #CF222E\">return</span><span style=\"color: #24292F\"> <data-lsp lsp='(parameter) arg: readonly T[]' >arg</data-lsp></span></div><div class='line'><span style=\"color: #24292F\">}</span></div><div class='line'><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\"><data-lsp lsp='const arr: readonly [Sandwich.Hamburger, \"lettuce\"]' style='border-bottom: solid 2px lightgrey;'>arr</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> [<data-lsp lsp='enum Sandwich' >Sandwich</data-lsp>.<data-lsp lsp='(enum member) Sandwich.Hamburger = 0' >Hamburger</data-lsp>, </span><span style=\"color: #0A3069\">\"lettuce\"</span><span style=\"color: #24292F\">] </span><span style=\"color: #CF222E\">as</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\"><data-lsp lsp='type const = readonly [Sandwich.Hamburger, \"lettuce\"]' >const</data-lsp></span></div><div class='meta-line'><span class='popover-prefix'>      </span><span class='popover'><div class='arrow'></div>const arr: readonly [Sandwich.Hamburger, \"lettuce\"]</span></div><div class='line'><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\"><data-lsp lsp='const result: readonly (Sandwich.Hamburger | \"lettuce\")[]' style='border-bottom: solid 2px lightgrey;'>result</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\"><data-lsp lsp='function returnArray&lt;Sandwich.Hamburger | \"lettuce\">(arg: readonly (Sandwich.Hamburger | \"lettuce\")[]): readonly (Sandwich.Hamburger | \"lettuce\")[]' >returnArray</data-lsp></span><span style=\"color: #24292F\">(<data-lsp lsp='const arr: readonly [Sandwich.Hamburger, \"lettuce\"]' >arr</data-lsp>)</span></div><div class='meta-line'><span class='popover-prefix'>        </span><span class='popover'><div class='arrow'></div>const result: readonly (Sandwich.Hamburger | \"lettuce\")[]</span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/KYOwrgtgBAyghiAJgdwJYGMAWUDeAoKKACTggCMwAnAc2EoBoCoA1Ya61YAIStoaYDilVABsRwRAGFMwYAGdgjQlwAyAFTwBfPAHodUALRH0YAC5GDeAGZgQ6U6gD2IKJWCmqIAIKVKcAJ4APGoAfAAUcDQAXK7AcIjOIv5QagDaALoAlDFu8YnJaem4TG4elC6R1Fp46M5yplCRlFAAvFCp8EhoWAB0JOS8dPRQAETiph7owCNFcHJQtSD1uvqEhAB6APw1dQ1ucmAiDW2lnj5+-hG+mStrG5tAA'>Try</a></div></pre>\n<p>What we want instead for our tuple scenario, something like this</p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #CF222E\">function</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\"><data-lsp lsp='function returnArray&lt;T extends any[]>(arg: T): T' >returnArray</data-lsp></span><span style=\"color: #24292F\">&lt;</span><span style=\"color: #953800\"><data-lsp lsp='(type parameter) T in returnArray&lt;T extends any[]>(arg: T): T' >T</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">extends</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">any</span><span style=\"color: #24292F\">[]&gt;(</span><span style=\"color: #953800\"><data-lsp lsp='(parameter) arg: T extends any[]' >arg</data-lsp></span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='(type parameter) T in returnArray&lt;T extends any[]>(arg: T): T' >T</data-lsp></span><span style=\"color: #24292F\">)</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='(type parameter) T in returnArray&lt;T extends any[]>(arg: T): T' >T</data-lsp></span><span style=\"color: #24292F\"> {</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #CF222E\">return</span><span style=\"color: #24292F\"> <data-lsp lsp='(parameter) arg: T extends any[]' >arg</data-lsp></span></div><div class='line'><span style=\"color: #24292F\">}</span></div><div class='line'><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\"><data-lsp lsp='const arr: [Sandwich.Hamburger, \"lettuce\"]' style='border-bottom: solid 2px lightgrey;'>arr</data-lsp></span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> [</span><span style=\"color: #953800\"><data-lsp lsp='enum Sandwich' >Sandwich</data-lsp></span><span style=\"color: #24292F\">.</span><span style=\"color: #953800\"><data-lsp lsp='(enum member) Sandwich.Hamburger = 0' >Hamburger</data-lsp></span><span style=\"color: #24292F\">, </span><span style=\"color: #0A3069\">\"lettuce\"</span><span style=\"color: #24292F\">] </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> [<data-lsp lsp='enum Sandwich' >Sandwich</data-lsp>.<data-lsp lsp='(enum member) Sandwich.Hamburger = 0' >Hamburger</data-lsp>, </span><span style=\"color: #0A3069\">\"lettuce\"</span><span style=\"color: #24292F\">]</span></div><div class='meta-line'><span class='popover-prefix'>      </span><span class='popover'><div class='arrow'></div>const arr: [Sandwich.Hamburger, \"lettuce\"]</span></div><div class='line'><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\"><data-lsp lsp='const result: [Sandwich.Hamburger, \"lettuce\"]' style='border-bottom: solid 2px lightgrey;'>result</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\"><data-lsp lsp='function returnArray&lt;[Sandwich.Hamburger, \"lettuce\"]>(arg: [Sandwich.Hamburger, \"lettuce\"]): [Sandwich.Hamburger, \"lettuce\"]' >returnArray</data-lsp></span><span style=\"color: #24292F\">(<data-lsp lsp='const arr: [Sandwich.Hamburger, \"lettuce\"]' >arr</data-lsp>)</span></div><div class='meta-line'><span class='popover-prefix'>        </span><span class='popover'><div class='arrow'></div>const result: [Sandwich.Hamburger, \"lettuce\"]</span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/KYOwrgtgBAyghiAJgdwJYGMAWUDeAoKKACTggCMwAnAc2EoBoCoA1Ya61YAIStoaYDilVABsRwRAGFMwYAGdgjQlwAyAFTwBfPAHodUALRH0YAC5GDeAGZgQ6U6gD2IKJWCmqIAIKVKcAJ4APGpQwAAepqCIclAI-gDaALoAfAAUcDQAXFBqAJTZIfiEbh6ULhnUWnjoznKmsb7Z8fBIaFgAdCTkvHT0UABE4qYe6MD9iVAAvFDNCCgYmJ2kFDS9A0MjY4m6+oSEAHoA-NW19W5yYCL10yWePn7+6b65O3sHh0A'>Try</a></div></pre>\n<p>Inference is doing a lot more for us here, and I would argue, <strong>we’re no longer\nlosing type information</strong>, once <code>T = [Sandwich.Hamburger, \"lettuce\"]</code></p>\n<p>TS 4.0 introduces support for <em>variadic tuples</em>. This relaxes the limitation\nshown above, and allows us to use <code>...T</code> in tuple types. Going back to our <code>tail</code>\nexample, let’s make a small change</p>\n<pre class=\"shiki github-light\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">diff</div><div class='code-container'><code><div class='line'><span style=\"color: #82071E\">-function tail&lt;T&gt;(arg: readonly [number, ...T[]]) {</span></div><div class='line'><span style=\"color: #116329\">+function tail&lt;T extends any[]&gt;(arg: readonly [number, ...T]) {</span></div><div class='line'><span style=\"color: #24292F\">  const [_ignored, ...rest] = arg;</span></div><div class='line'><span style=\"color: #24292F\">  return rest;</span></div><div class='line'><span style=\"color: #24292F\">}</span></div></code></div></pre>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #6E7781\">/**</span></div><div class='line'><span style=\"color: #6E7781\"> * return an array containing everything except the first element</span></div><div class='line'><span style=\"color: #6E7781\"> */</span></div><div class='line'><span style=\"color: #CF222E\">function</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\"><data-lsp lsp='function tail&lt;T extends any[]>(arg: readonly [number, ...T]): [...T]' >tail</data-lsp></span><span style=\"color: #24292F\">&lt;</span><span style=\"color: #953800\"><data-lsp lsp='(type parameter) T in tail&lt;T extends any[]>(arg: readonly [number, ...T]): [...T]' >T</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">extends</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">any</span><span style=\"color: #24292F\">[]&gt;(</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #953800\"><data-lsp lsp='(parameter) arg: readonly [number, ...T]' >arg</data-lsp></span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">readonly</span><span style=\"color: #24292F\"> [</span><span style=\"color: #0550AE\">number</span><span style=\"color: #24292F\">, </span><span style=\"color: #CF222E\">...</span><span style=\"color: #953800\"><data-lsp lsp='(type parameter) T in tail&lt;T extends any[]>(arg: readonly [number, ...T]): [...T]' >T</data-lsp></span><span style=\"color: #24292F\">]</span></div><div class='line'><span style=\"color: #24292F\">) {</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> [</span><span style=\"color: #0550AE\"><data-lsp lsp='const _ignored: number' >_ignored</data-lsp></span><span style=\"color: #24292F\">, </span><span style=\"color: #CF222E\">...</span><span style=\"color: #0550AE\"><data-lsp lsp='const rest: [...T]' >rest</data-lsp></span><span style=\"color: #24292F\">] </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> <data-lsp lsp='(parameter) arg: readonly [number, ...T]' >arg</data-lsp></span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #CF222E\">return</span><span style=\"color: #24292F\"> <data-lsp lsp='const rest: [...T]' >rest</data-lsp></span></div><div class='line'><span style=\"color: #24292F\">}</span></div><div class='line'><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\"><data-lsp lsp='const order1: SandwichOrder' >order1</data-lsp></span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type SandwichOrder = [number, Sandwich, ...string[]]' >SandwichOrder</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> [</span><span style=\"color: #0550AE\">12.99</span><span style=\"color: #24292F\">, <data-lsp lsp='enum Sandwich' >Sandwich</data-lsp>.<data-lsp lsp='(enum member) Sandwich.Hamburger = 0' >Hamburger</data-lsp>, </span><span style=\"color: #0A3069\">\"lettuce\"</span><span style=\"color: #24292F\">]</span></div><div class='line'>&nbsp;</div><div class='line'><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\"><data-lsp lsp='const result: [Sandwich, ...string[]]' style='border-bottom: solid 2px lightgrey;'>result</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\"><data-lsp lsp='function tail&lt;[Sandwich, ...string[]]>(arg: readonly [number, Sandwich, ...string[]]): [Sandwich, ...string[]]' >tail</data-lsp></span><span style=\"color: #24292F\">(<data-lsp lsp='const order1: SandwichOrder' >order1</data-lsp>)</span></div><div class='meta-line'><span class='popover-prefix'>        </span><span class='popover'><div class='arrow'></div>const result: [Sandwich, ...string[]]</span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/KYOwrgtgBAyghiAJgdwJYGMAWUDeAoKKACTggCMwAnAc2EoBoCoA1Ya61YAIStoaYDilVABsRwRAGFMwYAGdgjQlwAyAFTwBfPABcAngAdgsBCgyYA8pUR0oAXigBtJuHJ16UAPSeoAe2u2Or46cCJM8EhoWB7eUHKmUZhMAHSpcjrCINSOALpePkEGBqhZcng5eJWxALS16GA6tdV4ngBUrQStUJTAOlQgUAiDlJRwelDoviAhJSXUUMAAbnR6OphzCwAe6MAGOlBrxgBmqJTpC+IQoDqdnnhHYCDoOqhTB3CiADxqWzqgiHJBiA9LkAHwACiYcBoAC5usA4IgpiJxo5XGR3FBUsk1BUAJS4JiTEDnRwAfVQ1BA-gkHmxPXSeQc0OoTB6fUoAwZN20xPO-hslAAjHCImYsFZBfYnEKAEzJACcCo8YsSyRI5F4mIAROIdH0dtqKng+fsGWARPsHDMROCBXQhXiWj5CIQAHoAfiAA'>Try</a></div></pre>\n<p>There we go! This improved degree of inference now works for us <em>inside the tuple</em>!</p>\n<p>We can also now use more than one <code>...spread</code> in a single tuple</p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #CF222E\">type</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type MyTuple = [number, number, string, string, string]' >MyTuple</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> [</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #CF222E\">...</span><span style=\"color: #24292F\">[</span><span style=\"color: #0550AE\">number</span><span style=\"color: #24292F\">, </span><span style=\"color: #0550AE\">number</span><span style=\"color: #24292F\">],</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #CF222E\">...</span><span style=\"color: #24292F\">[</span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\">, </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\">, </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\">]</span></div><div class='line'><span style=\"color: #24292F\">]</span></div><div class='line'><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\"><data-lsp lsp='const x: [number, number, string, string, string]' style='border-bottom: solid 2px lightgrey;'>x</data-lsp></span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type MyTuple = [number, number, string, string, string]' >MyTuple</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> [</span><span style=\"color: #0550AE\">1</span><span style=\"color: #24292F\">, </span><span style=\"color: #0550AE\">2</span><span style=\"color: #24292F\">, </span><span style=\"color: #0A3069\">\"a\"</span><span style=\"color: #24292F\">, </span><span style=\"color: #0A3069\">\"b\"</span><span style=\"color: #24292F\">, </span><span style=\"color: #0A3069\">\"c\"</span><span style=\"color: #24292F\">]</span></div><div class='meta-line'><span class='popover-prefix'>     </span><span class='popover'><div class='arrow'></div>const x: [number, number, string, string, string]</span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/C4TwDgpgBAsiAqBXMAbaBeKBtAUFKAdEVgHaIC2ARhAE4A0UZVtAunXocQM7A0CWJAOYMe-ISN4DBLHDIDGAexI8oADwBcsBMjRRMWAIwMATAwBEAQzPnK1qGblmZAemf58APQD8QA'>Try</a></div></pre>\n<p>It’s important to note that <strong>only one <code>...rest[]</code> element is possible in a given\ntuple, but it doesn’t necessarily have to be the last element</strong></p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #CF222E\">type</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type YEScompile1 = [number, number, ...string[]]' >YEScompile1</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> [</span><span style=\"color: #CF222E\">...</span><span style=\"color: #24292F\">[</span><span style=\"color: #0550AE\">number</span><span style=\"color: #24292F\">, </span><span style=\"color: #0550AE\">number</span><span style=\"color: #24292F\">], </span><span style=\"color: #CF222E\">...</span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\">[]]</span></div><div class='line'><span style=\"color: #CF222E\">type</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type NOcompile1 = [...number[], ...string[]]' >NOcompile1</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> [</span><span style=\"color: #CF222E\">...</span><span style=\"color: #0550AE\">number</span><span style=\"color: #24292F\">[], </span><span style=\"color: #CF222E\">...</span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\">[]]</span></div><span class=\"error\"><span>A rest element cannot follow another rest element.</span><span class=\"code\">1265</span></span><span class=\"error-behind\">A rest element cannot follow another rest element.</span><div class='line'>&nbsp;</div><div class='line'><span style=\"color: #CF222E\">type</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type YEScompile2 = [boolean, ...number[], string]' >YEScompile2</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> [</span><span style=\"color: #0550AE\">boolean</span><span style=\"color: #24292F\">, </span><span style=\"color: #CF222E\">...</span><span style=\"color: #0550AE\">number</span><span style=\"color: #24292F\">[], </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\">]</span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/PTAEAEFMCdoe2gZwFygIwCYBsBWAUAC4CeADpKAJoCiAygMZwC2JAlgDaRqgC8oA2gDohfAHYBXRgCMYAGlDipMALpyhAxAWgsRAcz5KlhUuQByAeQbN2nHvzULp0faqEatu-YaNlKtS6w4MWz5JODgOAEMRFwEHGGdQN20dJSA'>Try</a></div></pre>\n<p>Check out <a href=\"https://github.com/ReactiveX/rxjs/pull/5859/files\">how this feature has allowed the Rx.js project to simplify their types</a></p>\n<h2 id=\"class-property-inference-from-constructors\" style=\"position:relative;\"><a href=\"#class-property-inference-from-constructors\" aria-label=\"class property inference from constructors permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Class Property Inference from Constructors</h2>\n<p>This major convenience feature reduces the need for class\nfield type annotations by inferring their types from\nassignments in the <code>constructor</code>. It’s important to remember\nthat this only works when <code>noImplicitAny</code> is set to <code>true</code>.</p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #CF222E\">class</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='class Color' >Color</data-lsp></span><span style=\"color: #24292F\"> {</span></div><div class='line'><span style=\"color: #24292F\">  <data-lsp lsp='(property) Color.red: number' style='border-bottom: solid 2px lightgrey;'>red</data-lsp>  </span><span style=\"color: #6E7781\">// :number no longer needed!</span></div><div class='meta-line'><span class='popover-prefix'>  </span><span class='popover'><div class='arrow'></div>(property) Color.red: number</span></div><div class='line'><span style=\"color: #24292F\">  <data-lsp lsp='(property) Color.green: number' >green</data-lsp> </span><span style=\"color: #6E7781\">// :number no longer needed!</span></div><div class='line'><span style=\"color: #24292F\">  <data-lsp lsp='(property) Color.blue: number' >blue</data-lsp> </span><span style=\"color: #6E7781\">// :number no longer needed!</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #CF222E\">constructor</span><span style=\"color: #24292F\">(</span><span style=\"color: #953800\"><data-lsp lsp='(parameter) c: [number, number, number]' >c</data-lsp></span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> [</span><span style=\"color: #0550AE\">number</span><span style=\"color: #24292F\">, </span><span style=\"color: #0550AE\">number</span><span style=\"color: #24292F\">, </span><span style=\"color: #0550AE\">number</span><span style=\"color: #24292F\">]) {</span></div><div class='line'><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">this</span><span style=\"color: #24292F\">.<data-lsp lsp='(property) Color.red: number' >red</data-lsp> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> <data-lsp lsp='(parameter) c: [number, number, number]' >c</data-lsp>[</span><span style=\"color: #0550AE\">0</span><span style=\"color: #24292F\">]</span></div><div class='line'><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">this</span><span style=\"color: #24292F\">.<data-lsp lsp='(property) Color.green: number' >green</data-lsp> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> <data-lsp lsp='(parameter) c: [number, number, number]' >c</data-lsp>[</span><span style=\"color: #0550AE\">1</span><span style=\"color: #24292F\">]</span></div><div class='line'><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">this</span><span style=\"color: #24292F\">.<data-lsp lsp='(property) Color.blue: number' >blue</data-lsp> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> <data-lsp lsp='(parameter) c: [number, number, number]' >c</data-lsp>[</span><span style=\"color: #0550AE\">2</span><span style=\"color: #24292F\">]</span></div><div class='line'><span style=\"color: #24292F\">  }</span></div><div class='line'><span style=\"color: #24292F\">}</span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/MYGwhgzhAEDCD2J4CdoG8BQ1rIKYBNsB6I6ALgDsBXAWwCNdUL5okKBzR6C3AggQizQS0AHoB+Iezy4Kw0pVoMmLNpya98AoXRBVc88tXpdmreB1Obt2YBYgAXZFWAOUACmBloAbWPKAGm4lRiD-RgBdAEp0IWwHAAsASwgAOjxCAF5oYB8ABgi46ESU1OleOWzcgEZC7HjktN19aCqfACY66ABfDG6gA'>Try</a></div></pre>\n<h2 id=\"thrown-values-as-unknown\" style=\"position:relative;\"><a href=\"#thrown-values-as-unknown\" aria-label=\"thrown values as unknown permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Thrown values as unknown</h2>\n<p>Before TS 4.0, thrown values were always considered to be of type\n<code>any</code>. Now, we can choose to regard it as of type <code>unknown</code>.\nIf you’ve ever found it risky to assume that a <code>message</code>, <code>stacktrace</code>,\nor <code>name</code> property is on every possible thrown value you encounter\nin a catch clause, this feature may make help you sleep a little more soundly.</p>\n<p>Thrown errors provide a nice stack trace\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b92716b1afb7e2296cad63ef96380c35/66632/throw-error.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.599999999999994%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAACMElEQVQoz6XQS28SURQH8GPDbQttBwY6QG2RUsrAMDO0tMwwDxjo8CjyKH3oQhcmJk3YGL+DfgIT01h15cK4cuF3aWZvdybuTWCYY2ZIuqDuXPzyP/ck9+TcC7aSghfaqm9zA0gimSC8wBI2ski2aUJULkEGmkDqhSQZVgukeZAmSiZGzP0UeWqWSGknQri4nxS3Ar5DAHgTAYC2pL4e9I1bqVm9kRsnVuPsmdXq9K12b2j1hk+8bHWHVrt3ahmNY6ty1LKO2l2r1T2xVMO0JM24kfXaz6Kkvrp4/hKAlYzP8vEFirU+cnoXBaOPaanpSR2aGOVUjOU1LxlOQYZTvdo755QZTsX13eJ15+0PgC1BvU4cNDAuVMdMXp9GctqU2pWnVFqaUrvSNJiRPSG2fA89M6ZZBYPb4tX59z8AUfbwI6t23M0myQPTiQsVjPM6xvkKxngdN8QqMnkNabaM4awyzwmzZdutQ9uFq/OvvwBWE/z15l4dc1pnklWPHRertJ1kse7ZKZlOjNcdmi077gA350zuBn77DUAlxU9p2US+2rPd/xNrA+T0x5jYr3s292oYzev4UDSQyevoPm9uSzucVTGUKnw4czcMPRLfp4olZHLSOMzKdsSVlW0mp9hRTrHXs2Xb7bvojPQvYzojYygpvDv9cgvgWw4UF5ZCl8RPjRYDMyRAjXz+NQ/xr931PStzAtRoaSV4SZZX9gDgAQDAAgD4AID8B/f+wlahCn8BaeXinMZRr0AAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"thrown error with stacktrace\"\n        title=\"thrown error with stacktrace\"\n        src=\"/static/b92716b1afb7e2296cad63ef96380c35/00d43/throw-error.png\"\n        srcset=\"/static/b92716b1afb7e2296cad63ef96380c35/63868/throw-error.png 250w,\n/static/b92716b1afb7e2296cad63ef96380c35/0b533/throw-error.png 500w,\n/static/b92716b1afb7e2296cad63ef96380c35/00d43/throw-error.png 1000w,\n/static/b92716b1afb7e2296cad63ef96380c35/aa440/throw-error.png 1500w,\n/static/b92716b1afb7e2296cad63ef96380c35/66632/throw-error.png 1504w\"\n        sizes=\"(max-width: 1000px) 100vw, 1000px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Whereas thrown values of other types (e.g., <code>string</code>) often provide far less\ninformation\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1000px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/385e21e48fa1683d21f35f781548b1c4/66632/throw-string.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB2UlEQVQoz6XLy27TQBQG4JOAJ20dcNLgBKVJiEWdxk4cp7k4vjvXmrhNCyqRkFiiorprFogdGyQQFX0INkjseZJq9n2LVrYG2Ul37Bjp0/n/Mzrwc3czcXFYoXS9iCzbRKfLY/R61EWuJqE3cwu9HPXRwaCBTqcqctUmMiUunssDHWliBcnVJ2hQK1DTajLxwWIAXMV4v/Dsm87EuO44HrYXSzycvsAj9wi7R6/w7PAET72TeFoTFxvDGR7OPDz1jrFqjXFPs6/7hnMj99R3i+VbAJaTroqSQUptm5T3h+RZZ0zKskNYQSN58Z5O8oIW7+L9GltXVwSN5J7Ll8bFFUBR6F/y2pyU2qNbVtSDfMMMcnUtYHglyPBKwOwqcf6XbG0Quc3WVMJUpW/O5z8Aojr5IZgLUulMAlbQSb5hxnKCTljRIIWmRQrr3dN1XnWDbO+pkWB7TyOZqvTd/PQboFRXvjZNm5Rl826n5YTV7jjkuuOQFbRwp2XFubI/DMttJ+R6kzhHSrIdZvl+5C7LK4SpNL6YH38BQDLVoh/TZ9Rm2k+m6PME2vIj1NYj/8FG2oe409GfD9Qq3/cUzZwjmvFT6cwZtUFLED0EkASAhwBA/YfoPskN5vAXXtWo+v6J1u0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"thrown string without stacktrace\"\n        title=\"thrown string without stacktrace\"\n        src=\"/static/385e21e48fa1683d21f35f781548b1c4/00d43/throw-string.png\"\n        srcset=\"/static/385e21e48fa1683d21f35f781548b1c4/63868/throw-string.png 250w,\n/static/385e21e48fa1683d21f35f781548b1c4/0b533/throw-string.png 500w,\n/static/385e21e48fa1683d21f35f781548b1c4/00d43/throw-string.png 1000w,\n/static/385e21e48fa1683d21f35f781548b1c4/aa440/throw-string.png 1500w,\n/static/385e21e48fa1683d21f35f781548b1c4/66632/throw-string.png 1504w\"\n        sizes=\"(max-width: 1000px) 100vw, 1000px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>I advise always typing errors as <code>unknown</code></strong>, and can’t think of any scenario\nwhere it would be worse than an <code>any</code>.</p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #CF222E\">try</span><span style=\"color: #24292F\"> {</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #8250DF\"><data-lsp lsp='function somethingRisky(): void' >somethingRisky</data-lsp></span><span style=\"color: #24292F\">()</span></div><div class='line'><span style=\"color: #24292F\">} </span><span style=\"color: #CF222E\">catch</span><span style=\"color: #24292F\"> (</span><span style=\"color: #953800\"><data-lsp lsp='var err: unknown' >err</data-lsp></span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">unknown</span><span style=\"color: #24292F\">) {</span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #CF222E\">if</span><span style=\"color: #24292F\"> (<data-lsp lsp='var err: unknown' >err</data-lsp> </span><span style=\"color: #CF222E\">instanceof</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='var Error: ErrorConstructor' >Error</data-lsp></span><span style=\"color: #24292F\">) </span><span style=\"color: #CF222E\">throw</span><span style=\"color: #24292F\"> <data-lsp lsp='var err: Error' >err</data-lsp></span></div><div class='line'><span style=\"color: #24292F\">  </span><span style=\"color: #CF222E\">else</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">throw</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">new</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\"><data-lsp lsp='var Error: ErrorConstructor&#10;new (message?: string | undefined) => Error' >Error</data-lsp></span><span style=\"color: #24292F\">(</span><span style=\"color: #0A3069\">`${</span><span style=\"color: #24292F\"><data-lsp lsp='var err: unknown' >err</data-lsp></span><span style=\"color: #0A3069\">}`</span><span style=\"color: #24292F\">)</span></div><div class='line'><span style=\"color: #24292F\">}</span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/GYVwdgxgLglg9mABAZzgWwKZQBYzAcwCUZkBrATwAoBKRAbwF8AoAehcQFouIQouOmUAE7l6TRCnRZcBYmSrUmDRBACGUCNkSUMQoQC5E4UmDgB3MLTrjEMYNt1DbYZFFWQMcewFE9cIbQ4QuaIjjYYADbIGIhBIWAYZoi+wUKUAAYAJHSODOmKDEA'>Try</a></div></pre>\n<p>There’s also a <code>useUnknownInCatchVariables</code> <code>compilerOption</code> flag that\nwill make thrown values unknown across your entire project</p>\n<h2 id=\"template-literal-types\" style=\"position:relative;\"><a href=\"#template-literal-types\" aria-label=\"template literal types permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Template literal types</h2>\n<p>You can think of these like <strong>template strings, but for types</strong>.</p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #CF222E\">type</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type Statistics = {&#10;    medianValue?: number | undefined;&#10;    meanValue?: number | undefined;&#10;}' >Statistics</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> {</span></div><div class='line'><span style=\"color: #24292F\">  [</span><span style=\"color: #953800\"><data-lsp lsp='(type parameter) K' >K</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">in</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">`${\"median\"</span><span style=\"color: #0A3069\"> </span><span style=\"color: #CF222E\">|</span><span style=\"color: #0A3069\"> </span><span style=\"color: #0A3069\">\"mean\"}Value`</span><span style=\"color: #24292F\">]</span><span style=\"color: #CF222E\">?:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">number</span></div><div class='line'><span style=\"color: #24292F\">}</span></div><div class='line'><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\"><data-lsp lsp='const stats: Statistics' >stats</data-lsp></span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type Statistics = {&#10;    medianValue?: number | undefined;&#10;    meanValue?: number | undefined;&#10;}' >Statistics</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> {}</span></div><div class='line'><span style=\"color: #24292F\"><data-lsp lsp='const stats: Statistics' >stats</data-lsp>.<data-lsp lsp='(property) meanValue?: number | undefined' >meanValue</data-lsp></span></div><div class='meta-line'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='inline-completions'><ul class='dropdown'><li class=''><span><span class='result-found'>m</span>eanValue</span></li><li class=''><span><span class='result-found'>m</span>edianValue</span></li></ul></span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/C4TwDgpgBAysCGwCWBnZBjFUC8UDeAUFFANoDSUSAdlAAYAkeARALYQAmS8VTUAPlFYRuTAL4A1eABsArhFoBdAPwAuKFRksARhABOBUQXQB7KmihpEKNXESoMWXHkOXgKAHRtuk2RAIB6f2JggD0+IA'>Try</a></div></pre>\n<p>You can do some pretty interesting things with these</p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #CF222E\">let</span><span style=\"color: #24292F\"> <data-lsp lsp='let winFns: \"setInterval\" | \"setTimeout\"' style='border-bottom: solid 2px lightgrey;'>winFns</data-lsp></span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type Extract&lt;T, U> = T extends U ? T : never' >Extract</data-lsp></span><span style=\"color: #24292F\">&lt;</span><span style=\"color: #CF222E\">keyof</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='interface Window' >Window</data-lsp></span><span style=\"color: #24292F\">, </span><span style=\"color: #0A3069\">`set${</span><span style=\"color: #0550AE\">any</span><span style=\"color: #0A3069\">}`</span><span style=\"color: #24292F\">&gt; </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">\"\"</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">as</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">any</span></div><div class='meta-line'><span class='popover-prefix'>      </span><span class='popover'><div class='arrow'></div>let winFns: \"setInterval\" | \"setTimeout\"</span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/DYUwLgBA7glgdgMTgZwFwQKIA8wCcCGAxmADwDWIAngPYBmEA6vACbVQA0EABsuACQBvfHEoBfLgD4IAXggAiORHzIlIgFAB6DRB26AegH4gA'>Try</a></div></pre>\n<p>We even get some special utility types to assist with changing case</p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #CF222E\">type</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type T1 = \"sendMouseEvent\" | \"sendKeyboardEvent\"' style='border-bottom: solid 2px lightgrey;'>T1</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">`send${</span><span style=\"color: #953800\"><data-lsp lsp='type Capitalize&lt;S extends string> = intrinsic' >Capitalize</data-lsp></span><span style=\"color: #0A3069\">&lt;</span><span style=\"color: #0A3069\">\"mouse\"</span><span style=\"color: #0A3069\"> </span><span style=\"color: #CF222E\">|</span><span style=\"color: #0A3069\"> </span><span style=\"color: #0A3069\">\"keyboard\"</span><span style=\"color: #0A3069\">&gt;</span><span style=\"color: #0A3069\">}Event`</span></div><div class='meta-line'><span class='popover-prefix'>     </span><span class='popover'><div class='arrow'></div>type T1 = \"sendMouseEvent\" | \"sendKeyboardEvent\"</span></div><div class='line'><span style=\"color: #CF222E\">type</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type T2 = \"sendMOUSEEvent\" | \"sendKEYBOARDEvent\"' style='border-bottom: solid 2px lightgrey;'>T2</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">`send${</span><span style=\"color: #953800\"><data-lsp lsp='type Uppercase&lt;S extends string> = intrinsic' >Uppercase</data-lsp></span><span style=\"color: #0A3069\">&lt;</span><span style=\"color: #0A3069\">\"mouse\"</span><span style=\"color: #0A3069\"> </span><span style=\"color: #CF222E\">|</span><span style=\"color: #0A3069\"> </span><span style=\"color: #0A3069\">\"keyboard\"</span><span style=\"color: #0A3069\">&gt;</span><span style=\"color: #0A3069\">}Event`</span></div><div class='meta-line'><span class='popover-prefix'>     </span><span class='popover'><div class='arrow'></div>type T2 = \"sendMOUSEEvent\" | \"sendKEYBOARDEvent\"</span></div><div class='line'><span style=\"color: #CF222E\">type</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type T3 = \"sendmouseEvent\" | \"sendkeyboardEvent\"' style='border-bottom: solid 2px lightgrey;'>T3</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">`send${</span><span style=\"color: #953800\"><data-lsp lsp='type Lowercase&lt;S extends string> = intrinsic' >Lowercase</data-lsp></span><span style=\"color: #0A3069\">&lt;</span><span style=\"color: #0A3069\">\"Mouse\"</span><span style=\"color: #0A3069\"> </span><span style=\"color: #CF222E\">|</span><span style=\"color: #0A3069\"> </span><span style=\"color: #0A3069\">\"keyBoard\"</span><span style=\"color: #0A3069\">&gt;</span><span style=\"color: #0A3069\">}Event`</span></div><div class='meta-line'><span class='popover-prefix'>     </span><span class='popover'><div class='arrow'></div>type T3 = \"sendmouseEvent\" | \"sendkeyboardEvent\"</span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/C4TwDgpgBAKgjFAvFABgZwgOwCYBIDeAwgIZgCWwxANmQF4QA8ARALYD2Arhk1AD5RMA1hBAAjNsQBO2JgD4AvgFEAblmAoAUAHotUPQD0A-BtCRYAJiSoMOAgFUwkSQGNiGZuy4Qe-ISPFSMgoqapo6elBGJuDQMADMVuhYePgAMmwA7hAuboxMALKc3HwCwiAAQhLSckqqmOraugaGQA'>Try</a></div></pre>\n<h2 id=\"key-remapping-in-mapped-types\" style=\"position:relative;\"><a href=\"#key-remapping-in-mapped-types\" aria-label=\"key remapping in mapped types permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Key remapping in mapped types</h2>\n<p>You may recall that mapped types are kind of like our “for loop”\nto build up an object type by key-value pairs. Before TS 4.1,\nour ability to transform keys was very limited (usually involving an\nexplicit “old key to new key mapping”)</p>\n<p>We now have some new syntax (note the <code>as</code> in the example below) that\nlets us transform keys in a more declarative way. This language\nfeature works quite nicely with template literal types</p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line dim'><span style=\"color: #CF222E\">type</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type Colors = \"red\" | \"green\" | \"blue\"' >Colors</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">\"red\"</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">|</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">\"green\"</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">|</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">\"blue\"</span></div><div class='line dim'><span style=\"color: #CF222E\">type</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type ColorSelector = {&#10;    selectRed: () => void;&#10;    selectGreen: () => void;&#10;    selectBlue: () => void;&#10;}' >ColorSelector</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> {</span></div><div class='line highlight'><span style=\"color: #24292F\">  [</span><span style=\"color: #953800\"><data-lsp lsp='(type parameter) K' >K</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">in</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type Colors = \"red\" | \"green\" | \"blue\"' >Colors</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">as</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">`select${</span><span style=\"color: #953800\"><data-lsp lsp='type Capitalize&lt;S extends string> = intrinsic' >Capitalize</data-lsp></span><span style=\"color: #0A3069\">&lt;</span><span style=\"color: #953800\"><data-lsp lsp='(type parameter) K' >K</data-lsp></span><span style=\"color: #0A3069\">&gt;</span><span style=\"color: #0A3069\">}`</span><span style=\"color: #24292F\">]</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> () </span><span style=\"color: #CF222E\">=&gt;</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">void</span></div><div class='line dim'><span style=\"color: #24292F\">}</span></div><div class='line dim'><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\"><data-lsp lsp='const cs: ColorSelector' >cs</data-lsp></span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type ColorSelector = {&#10;    selectRed: () => void;&#10;    selectGreen: () => void;&#10;    selectBlue: () => void;&#10;}' >ColorSelector</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> {} </span><span style=\"color: #CF222E\">as</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">any</span></div><div class='line dim'><span style=\"color: #24292F\"><data-lsp lsp='const cs: ColorSelector' >cs</data-lsp>.</span><span style=\"color: #8250DF\"><data-lsp lsp='(property) selectRed: () => void' >selectRed</data-lsp></span><span style=\"color: #24292F\">()</span></div><div class='meta-line'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='inline-completions'><ul class='dropdown'><li class=''><span><span class='result-found'>sele</span>ctBlue</span></li><li class=''><span><span class='result-found'>sele</span>ctGreen</span></li><li class=''><span><span class='result-found'>sele</span>ctRed</span></li></ul></span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/C4TwDgpgBAwg9gGzgJwM5QLxQETIgE2ygB8cBzPCAOyNOwCMEBXCbAKFElkRQGUIEEAMbAUmKAG82UKAG0A0lACWVbkjRQAhugAGqAcOAASCTE1glwTQiUAvCAB55APgC+OgLoAuKAAoAlJjOUABucEr4bK5sQnBUqMBQQqg+8Or8giJiWBKuWuiaVCAxqAB0+pnAAEoEAWwA9PUyzQB6xEA'>Try</a></div></pre>\n<h2 id=\"checked-index-access\" style=\"position:relative;\"><a href=\"#checked-index-access\" aria-label=\"checked index access permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Checked index access</h2>\n<p>If you’ve ever heard me rant about typing Dictionaries, you may recall that\n<strong>my advice to describe them as having a possibility of holding <code>undefined</code> under some keys</strong></p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #6E7781\">// Mike thinks this is way too optimistic</span></div><div class='line'><span style=\"color: #CF222E\">type</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type Dict&lt;T> = {&#10;    [K: string]: T;&#10;}' >Dict</data-lsp></span><span style=\"color: #24292F\">&lt;</span><span style=\"color: #953800\"><data-lsp lsp='(type parameter) T in type Dict&lt;T>' >T</data-lsp></span><span style=\"color: #24292F\">&gt; </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> { [</span><span style=\"color: #953800\"><data-lsp lsp='(parameter) K: string' >K</data-lsp></span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\">]</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='(type parameter) T in type Dict&lt;T>' >T</data-lsp></span><span style=\"color: #24292F\"> }</span></div><div class='line'>&nbsp;</div><div class='line'><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\"><data-lsp lsp='const d: Dict&lt;string[]>' >d</data-lsp></span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type Dict&lt;T> = {&#10;    [K: string]: T;&#10;}' >Dict</data-lsp></span><span style=\"color: #24292F\">&lt;</span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\">[]&gt; </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> {}</span></div><div class='line'><span style=\"color: #24292F\"><data-lsp lsp='const d: Dict&lt;string[]>' >d</data-lsp>.<data-lsp lsp='string[]' >rhubarb</data-lsp>.</span><span style=\"color: #8250DF\"><data-lsp lsp='(method) Array&lt;string>.join(separator?: string | undefined): string' >join</data-lsp></span><span style=\"color: #24292F\">(</span><span style=\"color: #0A3069\">\", \"</span><span style=\"color: #24292F\">) </span><span style=\"color: #6E7781\">// 💥</span></div></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/PTAEFkEsGsFNQC4AtIDtoGdEq5LB3AQwE9EB7M0MgBwUgFs86BjAKAWOvgBFJmEAPABUAfKAC8oAN6gA2gGkAXKAwIATmgDmAXWVDQAX1atmZVKtAATZb34DVG1JtnaxkqUcsA6NUgCuAEaEagFeAFZkaAAUAEQANKAxAJSgIKCAvBuApTtAA'>Try</a></div></pre>\n<p>My advice was to explicitly type it as</p>\n<pre class=\"shiki github-light twoslash lsp\" style=\"background-color: #ffffff; color: #24292f\"><div class=\"language-id\">ts</div><div class='code-container'><code><div class='line'><span style=\"color: #CF222E\">type</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type Dict&lt;T> = {&#10;    [K: string]: T | undefined;&#10;}' >Dict</data-lsp></span><span style=\"color: #24292F\">&lt;</span><span style=\"color: #953800\"><data-lsp lsp='(type parameter) T in type Dict&lt;T>' >T</data-lsp></span><span style=\"color: #24292F\">&gt; </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> { [</span><span style=\"color: #953800\"><data-lsp lsp='(parameter) K: string' >K</data-lsp></span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\">]</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='(type parameter) T in type Dict&lt;T>' >T</data-lsp></span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">|</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">undefined</span><span style=\"color: #24292F\"> }</span></div><div class='line'><span style=\"color: #CF222E\">const</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\"><data-lsp lsp='const d: Dict&lt;string[]>' >d</data-lsp></span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\"><data-lsp lsp='type Dict&lt;T> = {&#10;    [K: string]: T | undefined;&#10;}' >Dict</data-lsp></span><span style=\"color: #24292F\">&lt;</span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\">[]&gt; </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> {}</span></div><div class='line'><span style=\"color: #24292F\"><data-err><data-lsp lsp='const d: Dict&lt;string[]>' >d</data-lsp>.<data-lsp lsp='string[] | undefined' >rhubarb</data-lsp></data-err>.</span><span style=\"color: #8250DF\"><data-lsp lsp='(method) Array&lt;string>.join(separator?: string | undefined): string' >join</data-lsp></span><span style=\"color: #24292F\">(</span><span style=\"color: #0A3069\">\", \"</span><span style=\"color: #24292F\">) </span><span style=\"color: #6E7781\">// 💥</span></div><span class=\"error\"><span>'d.rhubarb' is possibly 'undefined'.</span><span class=\"code\">18048</span></span><span class=\"error-behind\">'d.rhubarb' is possibly 'undefined'.</span></code><a class='playground-link' href='https://www.typescriptlang.org/play/#code/PTAEAEFMCdoe2gZwFygEwFYDMbQEYAOABgBYCAoAFwE8AHSUAEQEsBjSgHgBUA+UAXlABvUAG0A0qkSVozAHYBzALqouoAD6gArnIAmkAGbzIu0AF9yrOHOmhdqFuw7TZi0Ur6ChF3QDpoABZaAEYAhtDBvgBWcPIAFABEADSgCQCUoCCggLwbgKU7QA'>Try</a></div></pre>\n<p>Great, now we see an error alerting us to the ~possibility~ certainty that\nthere is no <code>string[]</code> stored under the <code>rhubarb</code> key.</p>\n<p>However, it’s tough to be vigilant enough to remember to do this to every\nindex signature in your entire app.</p>\n<p>TypeScript now gives us a compiler flag that will do this for us: <code>noUncheckedIndexAccess</code>.</p>\n<p>Sadly we can’t demonstrate how this works using these docs yet, but <a href=\"https://www.typescriptlang.org/play?noUncheckedIndexedAccess=true#code/PTAEFkEsGsFNQC4AtIDtoGdEq5LB3AQwE9EB7M0MgBwUgFs86BjAKAWOvgBFJmEAPABUAfKAC8oAN6gA2gGkAXKAwIATmgDmAXWVDQAX1atmZVKtAATZb34DVG1JtnaxkqUcsA6NUgCuAEaEagFeAFZkaAAUAEQANKAxAJSgIKCAvBuApTtAA\">here’s an example from the typescript playground</a></p>","tableOfContents":"<ul>\n<li><a href=\"#variadic-tuple-types\">Variadic Tuple Types</a></li>\n<li><a href=\"#class-property-inference-from-constructors\">Class Property Inference from Constructors</a></li>\n<li><a href=\"#thrown-values-as-unknown\">Thrown values as unknown</a></li>\n<li><a href=\"#template-literal-types\">Template literal types</a></li>\n<li><a href=\"#key-remapping-in-mapped-types\">Key remapping in mapped types</a></li>\n<li><a href=\"#checked-index-access\">Checked index access</a></li>\n</ul>","fields":{"slug":"/course/making-typescript-stick/03-recent-updates-to-typescript/"},"frontmatter":{"title":"Recent updates to TypeScript","course":"making-typescript-stick","date":"March 22, 2022","description":"We'll discuss a curated list of advancements in the TS language\nand compiler, starting with the 4.0 release.\n"}}},"pageContext":{"slug":"/course/making-typescript-stick/03-recent-updates-to-typescript/","title":"Recent updates to TypeScript","course":"making-typescript-stick","order":3,"previous":{"fields":{"slug":"/course/making-typescript-stick/02-warm-up/"},"frontmatter":{"title":"JS/TS Warm-up Quiz","order":2,"course":"making-typescript-stick","isExercise":null}},"next":{"fields":{"slug":"/course/making-typescript-stick/04-data-layer-challenge/"},"frontmatter":{"title":"Challenge 1: Building a typed data store","order":4,"course":"making-typescript-stick","isExercise":null}}}},
    "staticQueryHashes": ["2785745750","2841359383"]}